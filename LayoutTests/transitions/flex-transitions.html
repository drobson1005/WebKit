<!DOCTYPE html>
<html>
<head>
<style>
.flexbox {
    display: flex;
    width: 100px;
    height: 100px;
    margin-bottom: 10px;
}
.flexbox :nth-child(1) {
    background-color: blue;
}
.flexbox :nth-child(2) {
    background-color: green;
}
.flexbox div {
    transition-property: flex;
    transition-duration: 1s;
    transition-timing-function: linear;
}

#flex-row div {
    flex: 100 0 0px;
}

.final #row1 {
    flex: 300 0 0px;
}

#flex-column {
    flex-direction: column;
}

#flex-column div {
    flex: 100 0 0px;
}

.final #column1 {
    flex: 0 0 200px;
}

#flex-negative div {
    flex: 100 100 50px;
}

.final #negative1 {
    flex: 100 100 100px;
}

#flex-no-flex div {
    flex: 100 0 0px;
}

.final #no-flex1 {
    flex: 0 0 0px;
}
</style>
  <script src="resources/transition-test-helpers.js"></script>
  <script type="text/javascript">

const expectedValues = [
      // [time, element-id, property, expected-value, tolerance]
      [0.2, 'row1',      'flex', [140, 0,     0], 10],
      [0.2, 'column1',   'flex', [80,  0,    40], 10],
      [0.2, 'negative1', 'flex', [100, 100,  60], 10],
      [0.2, 'no-flex1',  'flex', [80,  0,     0], 10],
      [0.8, 'row1',      'flex', [260, 0,     0], 10],
      [0.8, 'column1',   'flex', [20,  0,   160], 10],
      [0.8, 'negative1', 'flex', [100, 100,  90], 10],
      [0.8, 'no-flex1',  'flex', [20,  0,     0], 10],
    ];

    function setupTest()
    {
      document.body.className = 'final';
    }
  
    runTransitionTest(expectedValues, setupTest);
  </script>
</head>
<body>

  <div id="flex-row" class='flexbox'>
    <div id="row1"></div>
    <div id="row2"></div>
  </div>

  <div id="flex-column" class='flexbox'>
    <div id="column1"></div>
    <div id="column2"></div>
  </div>

  <div id="flex-negative" class='flexbox'>
    <div id="negative1"></div>
    <div id="negative2"></div>
  </div>

  <div id="flex-no-flex" class='flexbox'>
    <div id="no-flex1"></div>
    <div id="no-flex2"></div>
  </div>

  <div id="result"></div>
</body>
</html>
